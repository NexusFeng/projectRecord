## 前置知识
元素高度超过父元素,给父元素设置一个`overflow:scroll`,就会在父元素上出现滚动条
## 难点
响应式数据只取视口中要显示的几条,并保证滚动条和数据完整时具有一样的效果
## 核心
- 全部数据内容的高度决定了滚动条的大小
- 前后元素填充决定了滚动条的位置
## 思路
用上下`padding`去填充在当前数据的上面和下面(模拟完整渲染的时候的上面和下面的数据),当上滑时,让上面的`padding`增加,让下面的`padding`减少,并保证视口的数据渲染
## 实现
- 拿到全部数据,计算出全部数据的高度,并计算出视口**能容纳的最大元素**,得出结论最大元素为`~~(totalHeight/itemHeight)+2`(`~~`为向下取整)/【最差情况】
```
总高度500px
totalHeight: 500px;
每条数据高度100px
itemHeight: 100px;
最大能容纳的元素是6,最少5
50px 100px 100px 100px 100px 50px
```
- 利用`addEventListener`监听`scroll`事件,计算滑动过的距离(`scrollTop`),计算得出最新的开始下标`~~(ele.scrollTop / itemHeight)`,计算属性监听到值变化后就会更新数据
